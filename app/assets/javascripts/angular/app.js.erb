var app = angular.module("Tiger", ["ngResource", "ngRoute", "ngTagsInput"])

app.config(function($routeProvider, $locationProvider) {
  $locationProvider.html5Mode({
    enabled: true,
    requireBase: false
  });
  $routeProvider
    .when("/stories", { templateUrl: "<%= asset_path('stories/index.html') %> ", controller: "StoriesIndexCtrl" })
    .when("/stories/new", { templateUrl: "<%= asset_path('stories/edit.html') %> ", controller: "StoriesEditCtrl" })
    .when("/stories/:id", { templateUrl: "<%= asset_path('stories/show.html') %> ", controller: "StoriesShowCtrl" })
    .when("/stories/:id/edit", { templateUrl: "<%= asset_path('stories/edit.html') %> ", controller: "StoriesEditCtrl" })
    .otherwise({ redirectTo: "/stories" });
});

app.config(function($httpProvider) {
  $httpProvider.defaults.headers.common['X-CSRF-Token'] = $('meta[name=csrf-token]').attr('content');
});
